'''
–§–∞–π–ª—ã –≤ —Ñ–∞–π–ª–µ üå∂Ô∏èüå∂Ô∏è

–í–∞–º –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª files.txt, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ñ–∞–π–ª–∞—Ö. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞
—Ñ–∞–π–ª–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç—Ä–∏ –∑–Ω–∞—á–µ–Ω–∏—è, —Ä–∞–∑–¥–µ–ª–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª–æ–º –ø—Ä–æ–±–µ–ª–∞ ‚Äî –∏–º—è —Ñ–∞–π–ª–∞, –µ–≥–æ —Ä–∞–∑–º–µ—Ä (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ) –∏ –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è:

cant-help-myself.mp3 7 MB
keep-yourself-alive.mp3 6 MB
bones.mp3 5 MB
...

–ù–∞–ø–∏—à–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É, –∫–æ—Ç–æ—Ä–∞—è –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—é, –æ–ø—Ä–µ–¥–µ–ª—è—è –æ–±—â–∏–π –æ–±—ä–µ–º
—Ñ–∞–π–ª–æ–≤ –∫–∞–∂–¥–æ–π –≥—Ä—É–ø–ø—ã, –∏ –≤—ã–≤–æ–¥–∏—Ç –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –≥—Ä—É–ø–ø—ã —Ñ–∞–π–ª–æ–≤, —É–∫–∞–∑—ã–≤–∞—è –¥–ª—è –∫–∞–∂–¥–æ–π –µ–µ –æ–±—â–∏–π –æ–±—ä–µ–º.
–ì—Ä—É–ø–ø—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –Ω–∞–∑–≤–∞–Ω–∏–π —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π,
—Ñ–∞–π–ª—ã –≤ –≥—Ä—É–ø–ø–∞—Ö ‚Äî –≤ –ª–µ–∫—Å–∏–∫–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ –∏—Ö –∏–º–µ–Ω.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 1. –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –±—ã —Ñ–∞–π–ª files.txt –∏–º–µ–ª –≤–∏–¥:

input.txt 3000 B
scratch.zip 300 MB
output.txt 1 KB
temp.txt 4 KB
boy.bmp 2000 KB
mario.bmp 1 MB
data.zip 900 MB

—Ç–æ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã–ª–∞ –±—ã –≤—ã–≤–µ—Å—Ç–∏:

boy.bmp
mario.bmp
----------
Summary: 3 MB

input.txt
output.txt
temp.txt
----------
Summary: 8 KB

data.zip
scratch.zip
----------
Summary: 1 GB

–≥–¥–µ Summary ‚Äî –æ–±—â–∏–π –æ–±—ä–µ–º —Ñ–∞–π–ª–æ–≤ –≥—Ä—É–ø–ø—ã.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 2. –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ –≤—Å–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤ —Å–æ–¥–µ—Ä–∂–∞—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 3. –û–±—â–∏–π –æ–±—ä–µ–º —Ñ–∞–π–ª–æ–≤ –≥—Ä—É–ø–ø—ã –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –≤ —Å–∞–º—ã—Ö –∫—Ä—É–ø–Ω—ã—Ö (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã—Ö)
–µ–¥–∏–Ω–∏—Ü–∞—Ö –∏–∑–º–µ—Ä–µ–Ω–∏—è —Å –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –¥–æ —Ü–µ–ª—ã—Ö. –î—Ä—É–≥–∏–º–∏ —Å–ª–æ–≤–∞–º–∏, —Å–Ω–∞—á–∞–ª–∞ —Å–ª–µ–¥—É–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å
—Å—É–º–º–∞—Ä–Ω—ã–π –æ–±—ä–µ–º –≤—Å–µ—Ö —Ñ–∞–π–ª–æ–≤ –≥—Ä—É–ø–ø—ã, —Å–∫–∞–∂–µ–º, –≤ –±–∞–π—Ç–∞—Ö, –∞ –∑–∞—Ç–µ–º –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ
–∑–Ω–∞—á–µ–Ω–∏–µ –≤ —Å–∞–º—ã–µ –∫—Ä—É–ø–Ω—ã–µ (–º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –≤–æ–∑–º–æ–∂–Ω—ã–µ) –µ–¥–∏–Ω–∏—Ü—ã –∏–∑–º–µ—Ä–µ–Ω–∏—è. –ü—Ä–∏–º–µ—Ä—ã –ø–µ—Ä–µ–≤–æ–¥–∞:

    1023 B -> 1023 B
    1300 B -> 1 KB
    1900 B -> 2 KB

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 4. –ó–Ω–∞—á–µ–Ω–∏—è –µ–¥–∏–Ω–∏—Ü –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–∞–∫–∏–µ –∂–µ, –∫–∞–∫–∏–µ –ø—Ä–∏–Ω—è—Ç—ã –≤ –∏–Ω—Ñ–æ—Ä–º–∞—Ç–∏–∫–µ:

    1 KB = 1024 B
    1 MB = 1024 KB
    1 GB = 1024 MB

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 5. –£–∫–∞–∑–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ. –û—Ç–≤–µ—Ç –Ω–∞ –∑–∞–¥–∞—á—É –¥–æ—Å—Ç—É–ø–µ–Ω –ø–æ —Å—Å—ã–ª–∫–µ.

–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ 6. –ü—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ —Ñ–∞–π–ª–∞ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —è–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –∫–æ–¥–∏—Ä–æ–≤–∫–∏ UTF-8.
'''

# –æ–±—ä—è–≤–ª—è–µ–º —Å–ª–æ–≤–∞—Ä—å: {<—Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ>: [<–∏–º—è —Ñ–∞–π–ª–∞ 1>, <–∏–º—è —Ñ–∞–π–ª–∞ 2>, ...], <–æ–±—â–∏–π —Ä–∞–∑–º–µ—Ä –≤ –ö–í>}
file_base = {}
with open('files.txt', encoding='utf-8') as file:
    for line in file.readlines():
        s = line.split()
        ext = s[0][s[0].index('.') + 1:]    # —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
        name = s[0][:s[0].index('.')]       # –∏–º—è —Ñ–∞–π–ª–∞
        size = int(s[1])                    # —Ä–∞–∑–º–µ—Ä
        unit = s[2]                         # Kb, B, GB
        # —Ä–∞–∑–º–µ—Ä–Ω–æ—Å—Ç—å –≤ kB
        if unit.lower() == 'b':
            size = round(size / 1024, 1)
        elif unit.lower() == 'mb':
            size = round(size * 1024)
        elif unit.lower() == 'gb':
            size = round(size * 1024 ** 2)
        # –∑–∞–ø–æ–ª–Ω—è–µ–º —Å–ª–æ–≤–∞—Ä—å
        if ext in file_base:
            file_base[ext][0].append(name)
            file_base[ext][1] += size
        else:
            file_base[ext] = file_base.get(ext, [[name], size])
# —Å–æ—Ä—Ç–∏—Ä—É–µ–º –∫–ª—é—á–∏, –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤, –ø—Ä–∏–≤–æ–¥–∏–º —Ä–∞–∑–º–µ—Ä—ã –∫ –Ω–æ—Ä–º–µ, –≤—ã–≤–æ–¥–∏–º –Ω–∞ –ø–µ—á–∞—Ç—å
for ext in sorted(file_base):
    l = sorted(file_base[ext][0])
    size = file_base[ext][1]
    if 1024 < size < 1024 ** 2:
        size = round(size / 1024)
        unit = 'MB'
    elif 1024 ** 2 < size < 1024 ** 3:
        size = round(size / 1024 ** 2)
        unit = 'GB'
    else:
        size = round(size)
        unit = 'KB'
    for name in l:
        print(f'{name}.{ext}')
    print('-' * 10)
    print(f'Summary: {size} {unit}\n')
