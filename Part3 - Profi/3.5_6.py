'''
Ð¡Ð¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¸ Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸ ðŸ™‚

Ð”Ð°Ð½ ÑÐ¿Ð¸ÑÐ¾Ðº ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð² Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¼ ÑƒÐºÐ°Ð·Ð°Ð½Ñ‹ Ð¸Ñ… Ñ„Ð°Ð¼Ð¸Ð»Ð¸Ð¸, Ð¸Ð¼ÐµÐ½Ð° Ð¸ Ð´Ð°Ñ‚Ñ‹ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ. ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ,
ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¾Ð¿Ñ€ÐµÐ´ÐµÐ»ÑÐµÑ‚, Ð² ÐºÐ°ÐºÑƒÑŽ Ð¸Ð· Ð´Ð°Ñ‚ Ñ€Ð¾Ð´Ð¸Ð»Ð¾ÑÑŒ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð²ÑÐµÐ³Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð².

Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
ÐÐ° Ð²Ñ…Ð¾Ð´ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ðµ Ð² Ð¿ÐµÑ€Ð²Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ Ð¿Ð¾Ð´Ð°ÐµÑ‚ÑÑ Ð½Ð°Ñ‚ÑƒÑ€Ð°Ð»ÑŒÐ½Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾ nn â€” ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð², Ñ€Ð°Ð±Ð¾Ñ‚Ð°ÑŽÑ‰Ð¸Ñ… Ð² Ð¾Ñ€Ð³Ð°Ð½Ð¸Ð·Ð°Ñ†Ð¸Ð¸.
Ð’ Ð¿Ð¾ÑÐ»ÐµÐ´ÑƒÑŽÑ‰Ð¸Ñ… nn ÑÑ‚Ñ€Ð¾ÐºÐ°Ñ… Ð²Ð²Ð¾Ð´ÑÑ‚ÑÑ Ð´Ð°Ð½Ð½Ñ‹Ðµ Ð¾ ÐºÐ°Ð¶Ð´Ð¾Ð¼ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐµ: Ð¸Ð¼Ñ, Ñ„Ð°Ð¼Ð¸Ð»Ð¸Ñ Ð¸ Ð´Ð°Ñ‚Ð° Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ, Ñ€Ð°Ð·Ð´ÐµÐ»Ñ‘Ð½Ð½Ñ‹Ðµ Ð¿Ñ€Ð¾Ð±ÐµÐ»Ð¾Ð¼.
Ð”Ð°Ñ‚Ð° Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ ÑƒÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ DD.MM.YYYY.

Ð¤Ð¾Ñ€Ð¼Ð°Ñ‚ Ð²Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ…
ÐŸÑ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð´Ð¾Ð»Ð¶Ð½Ð° Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ð´Ð°Ñ‚Ñƒ, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€ÑƒÑŽ Ð½Ð°Ð¸Ð±Ð¾Ð»ÑŒÑˆÐµÐµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÑÐ¾Ñ‚Ñ€ÑƒÐ´Ð½Ð¸ÐºÐ¾Ð² Ð¾Ñ‚Ð¼ÐµÑ‡Ð°ÐµÑ‚ Ð´ÐµÐ½ÑŒ Ñ€Ð¾Ð¶Ð´ÐµÐ½Ð¸Ñ,
Ð² Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ DD.MM.YYYY. Ð•ÑÐ»Ð¸ Ñ‚Ð°ÐºÐ¸Ñ… Ð´Ð°Ñ‚ Ð½ÐµÑÐºÐ¾Ð»ÑŒÐºÐ¾, Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ð° Ð´Ð¾Ð»Ð¶Ð½Ð° Ð²Ñ‹Ð²ÐµÑÑ‚Ð¸ Ð¸Ñ… Ð²ÑÐµ Ð² Ð¿Ð¾Ñ€ÑÐ´ÐºÐµ Ð²Ð¾Ð·Ñ€Ð°ÑÑ‚Ð°Ð½Ð¸Ñ,
ÐºÐ°Ð¶Ð´ÑƒÑŽ Ð½Ð° Ð¾Ñ‚Ð´ÐµÐ»ÑŒÐ½Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ, Ð² Ñ‚Ð¾Ð¼ Ð¶Ðµ Ñ„Ð¾Ñ€Ð¼Ð°Ñ‚Ðµ.

Sample Input 1:
5
Ð˜Ð²Ð°Ð½ ÐŸÐµÑ‚Ñ€Ð¾Ð² 01.05.1995
ÐŸÐµÑ‚Ñ€ Ð¡ÐµÑ€Ð³ÐµÐµÐ² 29.04.1995
Ð¡ÐµÑ€Ð³ÐµÐ¹ Ð Ð¾Ð¼Ð°Ð½Ð¾Ð² 01.01.1996
Ð Ð¾Ð¼Ð°Ð½ Ð“Ñ€Ð¸Ð³Ð¾Ñ€ÑŒÐµÐ² 01.01.1996
Ð“Ñ€Ð¸Ð³Ð¾Ñ€Ð¸Ð¹ Ð˜Ð²Ð°Ð½Ð¾Ð² 01.05.1995

Sample Output 1:
01.05.1995
01.01.1996

Sample Input 2:
5
Ð˜Ð²Ð°Ð½ ÐŸÐµÑ‚Ñ€Ð¾Ð² 14.10.1995
ÐŸÐµÑ‚Ñ€ Ð¡ÐµÑ€Ð³ÐµÐµÐ² 29.04.1992
Ð¡ÐµÑ€Ð³ÐµÐ¹ Ð Ð¾Ð¼Ð°Ð½Ð¾Ð² 01.01.1994
Ð Ð¾Ð¼Ð°Ð½ Ð“Ñ€Ð¸Ð³Ð¾Ñ€ÑŒÐµÐ² 01.01.1994
Ð“Ñ€Ð¸Ð³Ð¾Ñ€Ð¸Ð¹ Ð˜Ð²Ð°Ð½Ð¾Ð² 16.07.1995

Sample Output 2:
01.01.1994

'''

from datetime import datetime

pat = '%d.%m.%Y'
n, name_lib = int(input()), {}

for _ in range(n):
    s = input()
    name, sdt = s[:-11], s[-10:]
    dt = datetime.strptime(sdt, pat)
    name_lib[dt] = name_lib.get(dt, 0) + 1

new_lib = sorted(name_lib.items(), key=lambda x: x[0])

if min(name_lib.values()) == max(name_lib.values()):
    for i in new_lib:
        print(i[0].strftime(pat))
else:
    for i in new_lib:
        if i[1] > 1:
            print(i[0].strftime(pat))